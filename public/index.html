<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft World Map</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Minecraft Map</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" class="nav-item active">Live Dashboard</a></li>
                </ul>
            </nav>
            <div class="session-info-sidebar">
                <p id="session-code-text">Session Code: ...</p>
            </div>
        </aside>

        <main class="content-area">
            <header class="top-bar">
                <div class="top-bar-left">
                    <span class="live-status">LIVE</span>
                    <span class="utc-time">UTC: 12:45</span>
                </div>
                <div class="top-bar-right">
                    <button class="icon-button"><img src="settings-icon.png" alt="Settings"></button> <button class="icon-button"><img src="notification-icon.png" alt="Notifications"></button>
                    <button class="icon-button"><img src="user-icon.png" alt="User Profile"></button>
                </div>
            </header>

            <div class="dashboard-content">
                <div class="map-view-wrapper">
                    <div class="map-container">
                        <img id="minecraft-map" src="map.jpg" alt="Minecraft World Map">
                    </div>
                    <div class="coordinates-info">X: 0, Z: 0</div>
                    <div class="zoom-info">Zoom: 100%</div>
                </div>

                <div class="right-panel">
                    <div class="filters-section">
                        <div class="filter-header">
                            <span class="filter-icon">▼</span>
                            <h3>FILTERS</h3>
                        </div>
                        <div class="filter-option">
                            <label for="show-your-points">Twoje Punkty</label>
                            <label class="switch">
                                <input type="checkbox" id="show-your-points" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="filter-option">
                            <label for="show-shared-points">Udostępnione Punkty</label>
                            <label class="switch">
                                <input type="checkbox" id="show-shared-points" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="filter-option">
                            <label>Typ Zasobu</label>
                            <select id="resource-select-filter">
                                <option value="all">Wszystkie</option>
                                <optgroup label="Rudy">
                                    <option value="diamond_ore">Ruda Diamentu</option>
                                    <option value="iron_ore">Ruda Żelaza</option>
                                    </optgroup>
                                </select>
                        </div>
                    </div>

                    <div class="add-point-section">
                        <h3>Dodaj Punkt</h3>
                        <form id="add-point-form">
                            <div class="form-group">
                                <label for="resource-select">Typ Zasobu:</label>
                                <select id="resource-select" name="resource-type">
                                    <optgroup label="Rudy">
                                        <option value="diamond_ore">Ruda Diamentu</option>
                                        <option value="iron_ore">Ruda Żelaza</option>
                                        <option value="gold_ore">Ruda Złota</option>
                                        <option value="coal_ore">Ruda Węgla</option>
                                        <option value="copper_ore">Ruda Miedzi</option>
                                        <option value="redstone_ore">Ruda Redstone</option>
                                        <option value="lapis_ore">Ruda Lapis Lazuli</option>
                                        <option value="emerald_ore">Ruda Szmaragdu</option>
                                        <option value="netherite">Starożytny Gruz</option>
                                    </optgroup>
                                    <optgroup label="Struktury">
                                        <option value="village">Wioska</option>
                                        <option value="stronghold">Twierdza</option>
                                        <option value="nether_fortress">Twierdza Netheru</option>
                                        <option value="end_city">Miasto Kresu</option>
                                        <option value="ocean_monument">Monument Oceaniczny</option>
                                        <option value="woodland_mansion">Leśna Rezydencja</option>
                                        <option value="desert_temple">Pustynna Świątynia</option>
                                        <option value="jungle_temple">Dżunglowa Świątynia</option>
                                        <option value="igloo">Igloo</option>
                                        <option value="shipwreck">Wrak Statku</option>
                                    </optgroup>
                                    <optgroup label="Biomy">
                                        <option value="mushroom_biome">Grzybowa Wyspa</option>
                                        <option value="mesa">Góry Skalne (Badlands)</option>
                                        <option value="ice_spikes">Lodowe Kolce</option>
                                        <option value="flower_forest">Kwiatowy Las</option>
                                    </optgroup>
                                    <optgroup label="Inne">
                                        <option value="spawn">Punkt Spawnu</option>
                                        <option value="base">Baza</option>
                                        <option value="farm">Farma</option>
                                        <option value="portal">Portal Netheru</option>
                                        <option value="treasure">Skarb</option>
                                    </optgroup>
                                    <option value="custom">Własne</option>
                                </select>
                            </div>
                            <div id="custom-name-group" class="form-group" style="display:none;">
                                <label for="name-input">Nazwa Punktu:</label>
                                <input type="text" id="name-input" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="description-input">Opis (opcjonalnie):</label>
                                <input type="text" id="description-input" name="description">
                            </div>
                            <div class="form-group coords-group">
                                <label for="x-input">X:</label>
                                <input type="number" id="x-input" name="x" required>
                                <label for="z-input">Z:</label>
                                <input type="number" id="z-input" name="z" required>
                            </div>
                            <button type="submit" id="add-point-button">Dodaj Punkt</button>
                        </form>
                    </div>

                    <div class="admin-owner-buttons">
                        <button id="admin-login-btn">Panel Admina</button>
                        <button id="owner-login-btn" style="display:none;">Panel Właściciela</button>
                    </div>
                </div>
            </div>

            <div class="map-controls-overlay">
                <button id="zoom-in" class="map-control-button">+</button>
                <button id="zoom-out" class="map-control-button">-</button>
                <button id="reset-view" class="map-control-button">⟲</button>
            </div>

        </main>
    </div>
    
    <div id="point-details-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="point-details-title">Szczegóły Punktu</h2>
            <p><strong>Współrzędne:</strong> <span id="point-coords"></span></p>
            <p><strong>Opis:</strong> <span id="point-description"></span></p>
            <p><strong>Typ:</strong> <span id="point-type"></span></p>
            <div class="modal-buttons">
                <button id="share-point">Udostępnij Punkt</button>
                <button id="edit-point">Edytuj Punkt</button>
                <button id="delete-point">Usuń Punkt</button>
            </div>
        </div>
    </div>
    
    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Logowanie Admina</h2>
            <div class="form-group">
                <label for="admin-login-input">Kod Sesji:</label>
                <input type="password" id="admin-login-input" placeholder="Wpisz kod sesji">
            </div>
            <button id="login-as-admin">Zaloguj</button>
        </div>
    </div>

    <div id="admin-panel-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Panel Admina</h2>
            <h3>Oczekujące Punkty</h3>
            <button id="refresh-pending">Odśwież Listę</button>
            <ul id="pending-points-list"></ul>
        </div>
    </div>

    <div id="owner-panel-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Panel Właściciela</h2>
            <div class="owner-section">
                <h3>Promuj Użytkownika na Admina</h3>
                <div class="form-group">
                    <label for="promote-session-code">Kod Sesji:</label>
                    <input type="text" id="promote-session-code" placeholder="Wpisz kod sesji">
                </div>
                <button id="promote-user">Promuj</button>
            </div>
            <div class="owner-section">
                <h3>Dodaj Nową Dozwoloną Sesję</h3>
                <div class="form-group">
                    <label for="new-session-code">Kod Sesji:</label>
                    <input type="text" id="new-session-code" placeholder="Wpisz nowy kod sesji">
                </div>
                <button id="add-session-btn">Dodaj Sesję</button>
            </div>
            <div class="owner-section">
                <h3>Dozwolone Sesje</h3>
                <button id="refresh-sessions">Odśwież Listę</button>
                <ul id="allowed-sessions-list"></ul>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
